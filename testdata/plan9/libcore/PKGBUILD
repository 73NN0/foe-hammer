pkgname=libcore
pkgdesc="Platform-independent core logic"
depends=()
makedepends=(clang ar)
source=(core.c)

produces() {
    echo "lib/libcore.a"
}

build() {
    mkdir -p "$FOE_OBJDIR" "$FOE_LIBDIR"
    clang -c "$FOE_SRCDIR/core.c" -I"$FOE_SRCDIR/../platform-unix" -o "$FOE_OBJDIR/core.o"
    ar rcs "$FOE_LIBDIR/libcore.a" "$FOE_OBJDIR/core.o"
}
