pkgname=app
pkgdesc="Demo application with platform abstraction"
depends=(libcore platform-unix)
makedepends=(clang)
source=(main.c)

produces() {
    echo "bin/app"
}

build() {
    mkdir -p "$FOE_OBJDIR" "$FOE_BINDIR"
    clang -c "$FOE_SRCDIR/main.c" -I"$FOE_SRCDIR/../libcore" -o "$FOE_OBJDIR/main.o"
    clang -o "$FOE_BINDIR/app" "$FOE_OBJDIR/main.o" -L"$FOE_LIBDIR" -lcore -lplatform
}
