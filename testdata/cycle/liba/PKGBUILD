pkgname=liba
pkgdesc="Library A (depends on libb - creates cycle!)"
depends=(libb)
makedepends=(clang ar)
source=(a.c)

produces() {
    echo "lib/liba.a"
}

build() {
    mkdir -p "$FOE_OBJDIR" "$FOE_LIBDIR"
    clang -c "$FOE_SRCDIR/a.c" -o "$FOE_OBJDIR/a.o"
    ar rcs "$FOE_LIBDIR/liba.a" "$FOE_OBJDIR/a.o"
}
